<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="../../lib/vue.js"></script>
    <title>Document</title>
  </head>
  <body>
    <div id="root">
      <input type="text" placeholder="输入姓名过滤" v-model="name" />
      <ul>
        <li v-for="person in filterPersons" :key="person.id">
          {{person.name}}
        </li>
      </ul>
    </div>
  </body>
  <script>
    // const vm = new Vue({
    //   el: "#root",
    //   data: {
    //     name: "",
    //     persons: [
    //       { id: 1, name: "周杰伦" },
    //       { id: 2, name: "温兆伦" },
    //       { id: 3, name: "周冬雨" },
    //       { id: 4, name: "马冬梅" },
    //     ],
    //     filterPersons: [],
    //   },
    //   // 监视属性实现
    //   watch: {
    //     name: {
    //       immediate: true,
    //       handler(newValue, oldValue) {
    //         this.filterPersons = this.persons.filter((el) => {
    //           return el.name.indexOf(newValue) !== -1;
    //         });
    //       },
    //     },
    //   },
    // });


// 计算属性实现
    const vm = new Vue({
      el: "#root",
      data: {
        name: "",
        persons: [
          { id: 1, name: "周杰伦" },
          { id: 2, name: "温兆伦" },
          { id: 3, name: "周冬雨" },
          { id: 4, name: "马冬梅" },
        ],
      },
      // 计算属性实现
      computed:{
        filterPersons(){
          return this.persons.filter((el)=>{return el.name.indexOf(this.name)!==-1}) 
        }
      }
    });
  </script>
</html>
